[gd_scene load_steps=30 format=3 uid="uid://dmlytjqjib184"]

[ext_resource type="MeshLibrary" uid="uid://qvxl4ouj04dm" path="res://modular_gridmap/tiles.meshlib" id="2_dhd0k"]
[ext_resource type="PackedScene" uid="uid://c2x4py0bkprgv" path="res://ending/exit.tscn" id="3_ay4le"]
[ext_resource type="Material" uid="uid://boqex8ji6yx6r" path="res://materials/arrow.tres" id="4_l7uai"]
[ext_resource type="PackedScene" uid="uid://c5cjlmay4qhby" path="res://lighting/omni_light_3d_1.tscn" id="4_ndi8a"]
[ext_resource type="PackedScene" uid="uid://b13fw37sa4dh6" path="res://actors/guests/guest.tscn" id="5_ndi8a"]
[ext_resource type="Material" uid="uid://bladrdv7k4vo0" path="res://actors/guests/outfits/materials/black_dress.tres" id="6_xqlsd"]
[ext_resource type="Material" uid="uid://q4j6fjnj1vce" path="res://actors/guests/outfits/materials/white_dress.tres" id="7_1ysy8"]
[ext_resource type="PackedScene" uid="uid://ctb6ukap5phlj" path="res://decoration/window.blend" id="8_10gfo"]
[ext_resource type="PackedScene" uid="uid://dqirndlw0iorh" path="res://decoration/rug.blend" id="9_y7a54"]

[sub_resource type="BoxShape3D" id="BoxShape3D_bssjq"]
resource_local_to_scene = true
size = Vector3(7.66821, 4.26149, 11.7023)

[sub_resource type="NavigationMesh" id="NavigationMesh_1ysy8"]
vertices = PackedVector3Array(-3, 4.2, 0.1, -3, 4.2, 11.9, 4.9, 4.3, 11.9, 4.9, 4.3, 0.1, 0.3, 0.2, 0.3, 0.2, 0.2, 0.1, -0.2, 0.2, 0.1, -0.3, 0.2, 0.3, -2.7, 0.2, 6, -2.7, 0.2, 0.3, -3, 0.2, 6, -3, 0.2, 7.9, 4.7, 0.2, 10, 4.9, 0.2, 9.9, 4.9, 0.2, 8, 4.7, 0.2, 7.8, -2.7, 0.2, 8.2, -2.7, 0.2, 11.7, 4.7, 0.2, 11.7, 4.7, 0.2, 0.3)
polygons = [PackedInt32Array(3, 2, 0), PackedInt32Array(0, 2, 1), PackedInt32Array(5, 4, 6), PackedInt32Array(6, 4, 7), PackedInt32Array(7, 4, 8), PackedInt32Array(8, 9, 7), PackedInt32Array(11, 10, 8), PackedInt32Array(13, 12, 14), PackedInt32Array(14, 12, 15), PackedInt32Array(15, 12, 16), PackedInt32Array(16, 12, 17), PackedInt32Array(12, 18, 17), PackedInt32Array(11, 8, 16), PackedInt32Array(16, 8, 4), PackedInt32Array(16, 4, 19), PackedInt32Array(16, 19, 15)]
cell_size = 0.1
cell_height = 0.1
border_size = 0.1
agent_height = 0.1
agent_radius = 0.1
region_min_size = 2.68
region_merge_size = 69.55

[sub_resource type="PrismMesh" id="PrismMesh_l7uai"]
size = Vector3(1, 1, 0.25)

[sub_resource type="BoxMesh" id="BoxMesh_ndi8a"]
size = Vector3(0.25, 1, 0.25)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_y7a54"]
resource_local_to_scene = true
albedo_color = Color(0.39, 0.2106, 0.25545, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_jhjat"]
resource_local_to_scene = true
albedo_color = Color(0.3195, 0.3543, 0.45, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_fw1hd"]
resource_local_to_scene = true
albedo_color = Color(0.39, 0.2106, 0.25545, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_u8irr"]
resource_local_to_scene = true
albedo_color = Color(0.3195, 0.3543, 0.45, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_crc4x"]
resource_local_to_scene = true
albedo_color = Color(0.39, 0.2106, 0.25545, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_gqsvw"]
resource_local_to_scene = true
albedo_color = Color(0.3195, 0.3543, 0.45, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ghc5d"]
resource_local_to_scene = true
albedo_color = Color(0.39, 0.2106, 0.25545, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ch8nd"]
resource_local_to_scene = true
albedo_color = Color(0.3195, 0.3543, 0.45, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ls4j3"]
resource_local_to_scene = true
albedo_color = Color(0.39, 0.2106, 0.25545, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_t2bv4"]
resource_local_to_scene = true
albedo_color = Color(0.3195, 0.3543, 0.45, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_yjxpi"]
resource_local_to_scene = true
albedo_color = Color(0.39, 0.2106, 0.25545, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_h4wud"]
resource_local_to_scene = true
albedo_color = Color(0.3195, 0.3543, 0.45, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_rnuiq"]
resource_local_to_scene = true
albedo_color = Color(0.39, 0.2106, 0.25545, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_we5es"]
resource_local_to_scene = true
albedo_color = Color(0.3195, 0.3543, 0.45, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_fjsxl"]
resource_local_to_scene = true
albedo_color = Color(0.39, 0.2106, 0.25545, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_2rvnl"]
resource_local_to_scene = true
albedo_color = Color(0.3195, 0.3543, 0.45, 1)

[node name="Room" type="Node3D"]

[node name="Area3D" type="Area3D" parent="." groups=["room_bounds"]]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 10)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.019165, 1.96152, -3.96564)
shape = SubResource("BoxShape3D_bssjq")
debug_color = Color(0.878431, 0.584314, 0.278431, 1)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_1ysy8")

[node name="GridMap" type="GridMap" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 10)
mesh_library = ExtResource("2_dhd0k")
data = {
"cells": PackedInt32Array(1, 0, 1, 0, 0, 1, 65535, 0, 1, 65535, 65535, 1, 65534, 65535, 1, 65534, 65532, 1, 65535, 65532, 1, 65535, 65531, 1, 0, 65531, 1, 0, 65532, 1, 1, 65532, 1, 1, 65533, 1, 1, 65534, 1, 1, 65535, 1, 0, 65535, 1, 0, 65534, 1, 65535, 65534, 1, 0, 65533, 1, 65534, 65531, 1, 1, 65531, 1, 65534, 0, 1, 1, 1, 1048578, 0, 1, 1048578, 65535, 1, 1048578, 65534, 1, 1048578, 65533, 0, 2, 65533, 65535, 2, 65533, 65532, 2, 65533, 65531, 2, 2, 0, 655362, 2, 65534, 655362, 2, 65533, 655362, 2, 65532, 655362, 2, 65531, 655362, 1, 65530, 1441794, 65534, 65530, 1441794, 65535, 65530, 1441792, 0, 65530, 1441794, 65537, 0, 1310722, 65536, 0, 1441794, 131071, 0, 1441794, 131070, 0, 1441794, 131069, 0, 2, 131069, 65535, 2, 131069, 65534, 2, 131069, 65533, 2, 131069, 65532, 2, 131069, 65531, 2, 131070, 65530, 1441794, 65537, 65530, 1441794, 131071, 65530, 1441794, 65536, 65530, 1441794, 65537, 65531, 524290, 65537, 65532, 524290, 65537, 65533, 524290, 65537, 65534, 524290, 65537, 65535, 524290, 65538, 0, 131074, 131073, 65531, 1441793, 131072, 65531, 1441793, 196607, 65531, 1441793, 196606, 65531, 1441793, 196606, 0, 1441793, 196607, 0, 1441793, 131072, 0, 1441793, 131073, 0, 1441793, 131073, 65535, 1441793, 131073, 65534, 1441793, 131073, 65533, 1441793, 131073, 65532, 1441793, 196606, 65532, 1441793, 196606, 65533, 1441793, 196606, 65534, 1441793, 196606, 65535, 1441793, 196607, 65535, 1441793, 131072, 65535, 1441793, 131072, 65534, 1441793, 131072, 65533, 1441793, 131072, 65532, 1441793, 196607, 65532, 1441793, 196607, 65533, 1441793, 196607, 65534, 1441793, 65535, 65533, 1, 65534, 65533, 1, 65533, 65533, 2, 65534, 65534, 1)
}
metadata/_editor_floor_ = Vector3(0, 0, 0)

[node name="Exit" type="Node3D" parent="." groups=["room_exit"]]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, -3, 0, 7)

[node name="GridMap" type="GridMap" parent="Exit"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 1, 0, 2)
mesh_library = ExtResource("2_dhd0k")
data = {
"cells": PackedInt32Array(65535, 0, 655362)
}

[node name="Arrow" type="MeshInstance3D" parent="Exit"]
transform = Transform3D(0.5, 0, 0, 0, -2.18557e-08, 0.5, 0, -0.5, -2.18557e-08, 0, 0.391355, 0.606112)
visible = false
material_override = ExtResource("4_l7uai")
mesh = SubResource("PrismMesh_l7uai")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Exit/Arrow"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.898831, -7.50693e-23)
material_override = ExtResource("4_l7uai")
mesh = SubResource("BoxMesh_ndi8a")

[node name="Exit2" type="Node3D" parent="." groups=["room_exit"]]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 5, 0, 9)

[node name="GridMap" type="GridMap" parent="Exit2"]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 1, 0, 2)
mesh_library = ExtResource("2_dhd0k")
data = {
"cells": PackedInt32Array(1, 65534, 655362, 1, 65535, 655362)
}

[node name="Arrow" type="MeshInstance3D" parent="Exit2"]
transform = Transform3D(0.5, 0, 0, 0, -2.18557e-08, 0.5, 0, -0.5, -2.18557e-08, 5.29396e-23, 0.391355, 0.828159)
visible = false
material_override = ExtResource("4_l7uai")
mesh = SubResource("PrismMesh_l7uai")

[node name="MeshInstance3D" type="MeshInstance3D" parent="Exit2/Arrow"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.898831, -7.50693e-23)
material_override = ExtResource("4_l7uai")
mesh = SubResource("BoxMesh_ndi8a")

[node name="Ending" parent="." instance=ExtResource("3_ay4le")]
transform = Transform3D(-0.775881, 0, -0.630879, 0, 1, 0, 0.630879, 0, -0.775881, 4.27249, -0.0125785, 11.1244)

[node name="OmniLight3D" parent="." instance=ExtResource("4_ndi8a")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.01489, 2.2369, 7.21745)

[node name="Guests" type="Node3D" parent="."]

[node name="Guest" parent="Guests" instance=ExtResource("5_ndi8a")]
transform = Transform3D(-0.859174, 0, -0.511683, 0, 1, 0, 0.511683, 0, -0.859174, 4.40701, 0.0010355, 6.91517)
dress_materials = Array[StandardMaterial3D]([ExtResource("6_xqlsd"), SubResource("StandardMaterial3D_y7a54"), ExtResource("7_1ysy8"), SubResource("StandardMaterial3D_jhjat")])

[node name="Guest2" parent="Guests" instance=ExtResource("5_ndi8a")]
transform = Transform3D(0.900463, 0, 0.434933, 0, 1, 0, -0.434933, 0, 0.900463, 4.22933, 0.0010355, 6.22833)
dress_materials = Array[StandardMaterial3D]([ExtResource("6_xqlsd"), SubResource("StandardMaterial3D_fw1hd"), ExtResource("7_1ysy8"), SubResource("StandardMaterial3D_u8irr")])

[node name="Guest3" parent="Guests" instance=ExtResource("5_ndi8a")]
transform = Transform3D(-0.426585, 0, -0.904448, 0, 1, 0, 0.904448, 0, -0.426585, 3.18321, 0.0010355, 1.93799)
dress_materials = Array[StandardMaterial3D]([ExtResource("6_xqlsd"), SubResource("StandardMaterial3D_crc4x"), ExtResource("7_1ysy8"), SubResource("StandardMaterial3D_gqsvw")])

[node name="Guest4" parent="Guests" instance=ExtResource("5_ndi8a")]
transform = Transform3D(0.503714, 0, 0.863871, 0, 1, 0, -0.863871, 0, 0.503714, 2.65205, 0.0010355, 1.46768)
dress_materials = Array[StandardMaterial3D]([ExtResource("6_xqlsd"), SubResource("StandardMaterial3D_ghc5d"), ExtResource("7_1ysy8"), SubResource("StandardMaterial3D_ch8nd")])

[node name="Guest5" parent="Guests" instance=ExtResource("5_ndi8a")]
transform = Transform3D(-0.996976, 0, -0.0777108, 0, 1, 0, 0.0777108, 0, -0.996976, -2.1508, 0.0010355, 4.69201)
dress_materials = Array[StandardMaterial3D]([ExtResource("6_xqlsd"), SubResource("StandardMaterial3D_ls4j3"), ExtResource("7_1ysy8"), SubResource("StandardMaterial3D_t2bv4")])

[node name="Guest6" parent="Guests" instance=ExtResource("5_ndi8a")]
transform = Transform3D(0.999956, 0, -0.00938976, 0, 1, 0, 0.00938976, 0, 0.999956, -2.00554, 0.0010355, 3.99759)
dress_materials = Array[StandardMaterial3D]([ExtResource("6_xqlsd"), SubResource("StandardMaterial3D_yjxpi"), ExtResource("7_1ysy8"), SubResource("StandardMaterial3D_h4wud")])

[node name="Guest7" parent="Guests" instance=ExtResource("5_ndi8a")]
transform = Transform3D(-0.780037, 0, 0.625733, 0, 1, 0, -0.625733, 0, -0.780037, -2.1508, 0.0010355, 11.3352)
start_animation = "Bodyguard_1"
dress_materials = Array[StandardMaterial3D]([ExtResource("6_xqlsd"), SubResource("StandardMaterial3D_rnuiq"), ExtResource("7_1ysy8"), SubResource("StandardMaterial3D_we5es")])

[node name="Bodyguard2" parent="Guests" instance=ExtResource("5_ndi8a")]
transform = Transform3D(0.425652, 0, -0.904887, 0, 1, 0, 0.904887, 0, 0.425652, 4.51124, 0.0010355, 1.80408)
start_animation = "Bodyguard_1"
dress_materials = Array[StandardMaterial3D]([ExtResource("6_xqlsd"), SubResource("StandardMaterial3D_fjsxl"), ExtResource("7_1ysy8"), SubResource("StandardMaterial3D_2rvnl")])

[node name="window7" parent="." instance=ExtResource("8_10gfo")]
transform = Transform3D(-0.999961, 0, -0.00884862, 0, 1, 0, 0.00884862, 0, -0.999961, -1.33781, 1.56328, 11.5919)

[node name="window8" parent="." instance=ExtResource("8_10gfo")]
transform = Transform3D(-0.999961, 0, -0.00884862, 0, 1, 0, 0.00884862, 0, -0.999961, 0.931072, 1.56328, 11.5718)

[node name="window9" parent="." instance=ExtResource("8_10gfo")]
transform = Transform3D(-0.999961, 0, -0.00884862, 0, 1, 0, 0.00884862, 0, -0.999961, 3.26421, 1.56328, 11.5512)

[node name="rug" parent="." instance=ExtResource("9_y7a54")]
transform = Transform3D(0.846233, 0, 0, 0, 0.846233, 0, 0, 0, 0.846233, 0.910031, -0.0133863, 7.99909)
